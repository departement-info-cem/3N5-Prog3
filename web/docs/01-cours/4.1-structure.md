---
title: Exceptions
description: Exception, try catch throw throws
hide_table_of_contents: true
---

# Structurer son code üß±

## Contenu

On peut rapidement se perdre dans une fonction quand on a plus de 100 lignes de code. Nous allons voir :
- quand faire une m√©thode et pourquoi (nommer, r√©utiliser, etc.)
- les fonctions de refactor de l'environnement pour faire tout √ßa sans rien casser (parce qu'un travail qui marche c'est pr√©cieux)

<Row>

<Column>

:::warning Avant la s√©ance (2h)

Regarder la vid√©o sur le refactoring en kotlin dans IntelliJ IDEA.

:::

</Column>

<Column>

:::tip Vid√©os

<Video url="https://youtu.be/9Gd83g3elJQ" />

:::

</Column>

<Column>

:::info √Ä faire pendant la s√©ance

- Compl√©ter les exercices de la semaine
- Penser s√©rieusement √† quel refactor aurait du sens pour ton TP
- Continuer le **[premier travail](../tp/tp1)**

:::

</Column>

</Row>

:::note Exercices

### Exercice Valeur ou R√©f√©rence

Effectue la trace du programme suivant : 

```kotlin
fun main() {    
    var a : Int = 0    
    var b : Int = testPassageValeur(a)    

    var listA : MutableList<Int> = arrayListOf(1, 2, 3, 4, 5)    
    var listB : MutableList<Int> = testPassageReference(listA)

    println(b)
    println(listB)

}

fun testPassageValeur(a : Int ) : Int {    
    return a + 2
}

fun testPassageReference(a : MutableList<Int>) : MutableList<Int>
{    
    a.add(6)    
    return a
}
```
V√©rifie bien √† chaque √©tape le contexte d'√©x√©cution, ce qui signifie explorer non seulement le contexte de la fonction utilis√©e, mais √©galement celui de la fonction appelante (via la pile d'appel). Y a t'il un comportement surprenant ? Si oui, explique le dans tes propres mots. 

### Exercice RefactorTonTP

En utilisant les outils de refactor d'IntelliJ IDEA, am√©liore la lisibilit√© de ton TP1.

Apr√®s chaque refactor :
- valide que le comportement de ton application n'a pas chang√©
- fais un commit de refactor
- pousse-le sur ton repo

### Exercice Jimmy et Johnny üë®‚Äçüé§üë®‚Äçüíº

Jimmy et Johnny se chicanent depuis 10 ans. Chacun a √©crit une m√©thode afin de lire un fichier. Jimmy dit que les deux m√©thodes sont √©quivalentes alors que Johnny dit que le r√©sultat n'est pas le m√™me. Qui a raison et pourquoi?

Teste le [code](https://github.com/departement-info-cem/3N5-Prog3/tree/main/code/JimJohn/) pour d√©montrer si les m√©thodes sont pareilles ou non.

```kotlin
fun lireDesFichiersJimmy() {
    for (i in 0 until 10) {
        try {
            lireFichier(i)
            println("fichier $i lu par Jimmy")
        } catch (e: FileNotFoundException) {
            println("fichier $i n'existe pas Jimmy")
        }
    }
}

fun lireDesFichiersJohnny() {
    var cpt = 0
    try {
        for (i in 0 until 10) {
            lireFichier(i)
            cpt = i
            println("fichier $i lu par Johnny")
        }
    } catch (e: FileNotFoundException) {
        println("fichier $cpt n'existe pas Johnny")
    }
}

```

:::
